{"ast":null,"code":"import{useEffect}from\"react\";import{useSocket}from\"../context/SocketContext\";import{useGame}from\"../context/GameContext\";export function useGameSocket(){const socket=useSocket();const{dispatch}=useGame();useEffect(()=>{if(!socket)return;socket.on(\"connect\",()=>{dispatch({type:\"SET_MY_ID\",payload:socket.id});});socket.on(\"waiting_for_opponent\",()=>{dispatch({type:\"WAITING\"});});socket.on(\"match_found\",data=>{dispatch({type:\"MATCH_FOUND\",payload:data});});socket.on(\"round_start\",data=>{dispatch({type:\"ROUND_START\",payload:data});});socket.on(\"guess_result\",data=>{dispatch({type:\"GUESS_RESULT\",payload:data});});socket.on(\"opponent_guessed\",data=>{dispatch({type:\"OPPONENT_GUESSED\",payload:data});});socket.on(\"round_end\",data=>{dispatch({type:\"ROUND_END\",payload:data});});socket.on(\"session_end\",data=>{dispatch({type:\"SESSION_END\",payload:data});});socket.on(\"opponent_disconnected\",()=>{alert(\"Your opponent disconnected.\");dispatch({type:\"RESET\"});});socket.on(\"invalid_word\",data=>{dispatch({type:\"INVALID_WORD\"});});return()=>{socket.off(\"connect\");socket.off(\"waiting_for_opponent\");socket.off(\"match_found\");socket.off(\"round_start\");socket.off(\"guess_result\");socket.off(\"opponent_guessed\");socket.off(\"round_end\");socket.off(\"session_end\");socket.off(\"opponent_disconnected\");socket.off(\"invalid_word\");};},[socket,dispatch]);}","map":{"version":3,"names":["useEffect","useSocket","useGame","useGameSocket","socket","dispatch","on","type","payload","id","data","alert","off"],"sources":["C:/Users/NITRO5/OneDrive/Desktop/worduel/client/src/hooks/useGameSocket.js"],"sourcesContent":["import { useEffect } from \"react\";\r\nimport { useSocket } from \"../context/SocketContext\";\r\nimport { useGame } from \"../context/GameContext\";\r\n\r\nexport function useGameSocket() {\r\n  const socket = useSocket();\r\n  const { dispatch } = useGame();\r\n\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n\r\n    socket.on(\"connect\", () => {\r\n      dispatch({ type: \"SET_MY_ID\", payload: socket.id });\r\n    });\r\n\r\n    socket.on(\"waiting_for_opponent\", () => {\r\n      dispatch({ type: \"WAITING\" });\r\n    });\r\n\r\n    socket.on(\"match_found\", (data) => {\r\n      dispatch({ type: \"MATCH_FOUND\", payload: data });\r\n    });\r\n\r\n    socket.on(\"round_start\", (data) => {\r\n      dispatch({ type: \"ROUND_START\", payload: data });\r\n    });\r\n\r\n    socket.on(\"guess_result\", (data) => {\r\n      dispatch({ type: \"GUESS_RESULT\", payload: data });\r\n    });\r\n\r\n    socket.on(\"opponent_guessed\", (data) => {\r\n      dispatch({ type: \"OPPONENT_GUESSED\", payload: data });\r\n    });\r\n\r\n    socket.on(\"round_end\", (data) => {\r\n      dispatch({ type: \"ROUND_END\", payload: data });\r\n    });\r\n\r\n    socket.on(\"session_end\", (data) => {\r\n      dispatch({ type: \"SESSION_END\", payload: data });\r\n    });\r\n\r\n    socket.on(\"opponent_disconnected\", () => {\r\n      alert(\"Your opponent disconnected.\");\r\n      dispatch({ type: \"RESET\" });\r\n    });\r\n\r\n    socket.on(\"invalid_word\", (data) => {\r\n  dispatch({ type: \"INVALID_WORD\" });\r\n});\r\n\r\n    return () => {\r\n      socket.off(\"connect\");\r\n      socket.off(\"waiting_for_opponent\");\r\n      socket.off(\"match_found\");\r\n      socket.off(\"round_start\");\r\n      socket.off(\"guess_result\");\r\n      socket.off(\"opponent_guessed\");\r\n      socket.off(\"round_end\");\r\n      socket.off(\"session_end\");\r\n      socket.off(\"opponent_disconnected\");\r\n      socket.off(\"invalid_word\");\r\n    };\r\n  }, [socket, dispatch]);\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}