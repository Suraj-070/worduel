{"ast":null,"code":"import React,{useEffect,useState,useRef}from\"react\";import\"../styles/Timer.css\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export default function Timer(_ref){let{seconds,onTimeUp,paused}=_ref;const[timeLeft,setTimeLeft]=useState(seconds);const countdownSound=useRef(new Audio(\"/sounds/countdown.mp3\"));const timeupSound=useRef(new Audio(\"/sounds/timeup.mp3\"));const playedTimeup=useRef(false);useEffect(()=>{setTimeLeft(seconds);playedTimeup.current=false;},[seconds]);useEffect(()=>{if(paused||timeLeft<=0){if(timeLeft<=0&&!playedTimeup.current){playedTimeup.current=true;timeupSound.current.play();onTimeUp===null||onTimeUp===void 0?void 0:onTimeUp();}return;}// Play countdown beep in last 9 seconds\nif(timeLeft<=9){countdownSound.current.currentTime=0;countdownSound.current.play();}const t=setTimeout(()=>setTimeLeft(s=>s-1),1000);return()=>clearTimeout(t);},[timeLeft,paused,onTimeUp]);const mins=Math.floor(timeLeft/60);const secs=timeLeft%60;const pct=timeLeft/seconds*100;const urgency=timeLeft<=9?\"urgent\":timeLeft<=120?\"warning\":\"normal\";return/*#__PURE__*/_jsxs(\"div\",{className:\"timer timer--\".concat(urgency),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"timer__display\",children:[String(mins).padStart(2,\"0\"),\":\",String(secs).padStart(2,\"0\")]}),/*#__PURE__*/_jsx(\"div\",{className:\"timer__bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"timer__fill\",style:{width:\"\".concat(pct,\"%\")}})})]});}","map":{"version":3,"names":["React","useEffect","useState","useRef","jsxs","_jsxs","jsx","_jsx","Timer","_ref","seconds","onTimeUp","paused","timeLeft","setTimeLeft","countdownSound","Audio","timeupSound","playedTimeup","current","play","currentTime","t","setTimeout","s","clearTimeout","mins","Math","floor","secs","pct","urgency","className","concat","children","String","padStart","style","width"],"sources":["C:/Users/NITRO5/OneDrive/Desktop/worduel/client/src/components/Timer.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport \"../styles/Timer.css\";\r\n\r\nexport default function Timer({ seconds, onTimeUp, paused }) {\r\n  const [timeLeft, setTimeLeft] = useState(seconds);\r\n  const countdownSound = useRef(new Audio(\"/sounds/countdown.mp3\"));\r\n  const timeupSound = useRef(new Audio(\"/sounds/timeup.mp3\"));\r\n  const playedTimeup = useRef(false);\r\n\r\n  useEffect(() => {\r\n    setTimeLeft(seconds);\r\n    playedTimeup.current = false;\r\n  }, [seconds]);\r\n\r\n  useEffect(() => {\r\n    if (paused || timeLeft <= 0) {\r\n      if (timeLeft <= 0 && !playedTimeup.current) {\r\n        playedTimeup.current = true;\r\n        timeupSound.current.play();\r\n        onTimeUp?.();\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Play countdown beep in last 9 seconds\r\n    if (timeLeft <= 9) {\r\n      countdownSound.current.currentTime = 0;\r\n      countdownSound.current.play();\r\n    }\r\n\r\n    const t = setTimeout(() => setTimeLeft((s) => s - 1), 1000);\r\n    return () => clearTimeout(t);\r\n  }, [timeLeft, paused, onTimeUp]);\r\n\r\n  const mins = Math.floor(timeLeft / 60);\r\n  const secs = timeLeft % 60;\r\n  const pct = (timeLeft / seconds) * 100;\r\n  const urgency = timeLeft <= 9 ? \"urgent\" : timeLeft <= 120 ? \"warning\" : \"normal\";\r\n\r\n  return (\r\n    <div className={`timer timer--${urgency}`}>\r\n      <div className=\"timer__display\">\r\n        {String(mins).padStart(2, \"0\")}:{String(secs).padStart(2, \"0\")}\r\n      </div>\r\n      <div className=\"timer__bar\">\r\n        <div className=\"timer__fill\" style={{ width: `${pct}%` }} />\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,CAAEC,MAAM,KAAQ,OAAO,CAC1D,MAAO,qBAAqB,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAE7B,cAAe,SAAS,CAAAC,KAAKA,CAAAC,IAAA,CAAgC,IAA/B,CAAEC,OAAO,CAAEC,QAAQ,CAAEC,MAAO,CAAC,CAAAH,IAAA,CACzD,KAAM,CAACI,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAACQ,OAAO,CAAC,CACjD,KAAM,CAAAK,cAAc,CAAGZ,MAAM,CAAC,GAAI,CAAAa,KAAK,CAAC,uBAAuB,CAAC,CAAC,CACjE,KAAM,CAAAC,WAAW,CAAGd,MAAM,CAAC,GAAI,CAAAa,KAAK,CAAC,oBAAoB,CAAC,CAAC,CAC3D,KAAM,CAAAE,YAAY,CAAGf,MAAM,CAAC,KAAK,CAAC,CAElCF,SAAS,CAAC,IAAM,CACda,WAAW,CAACJ,OAAO,CAAC,CACpBQ,YAAY,CAACC,OAAO,CAAG,KAAK,CAC9B,CAAC,CAAE,CAACT,OAAO,CAAC,CAAC,CAEbT,SAAS,CAAC,IAAM,CACd,GAAIW,MAAM,EAAIC,QAAQ,EAAI,CAAC,CAAE,CAC3B,GAAIA,QAAQ,EAAI,CAAC,EAAI,CAACK,YAAY,CAACC,OAAO,CAAE,CAC1CD,YAAY,CAACC,OAAO,CAAG,IAAI,CAC3BF,WAAW,CAACE,OAAO,CAACC,IAAI,CAAC,CAAC,CAC1BT,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAG,CAAC,CACd,CACA,OACF,CAEA;AACA,GAAIE,QAAQ,EAAI,CAAC,CAAE,CACjBE,cAAc,CAACI,OAAO,CAACE,WAAW,CAAG,CAAC,CACtCN,cAAc,CAACI,OAAO,CAACC,IAAI,CAAC,CAAC,CAC/B,CAEA,KAAM,CAAAE,CAAC,CAAGC,UAAU,CAAC,IAAMT,WAAW,CAAEU,CAAC,EAAKA,CAAC,CAAG,CAAC,CAAC,CAAE,IAAI,CAAC,CAC3D,MAAO,IAAMC,YAAY,CAACH,CAAC,CAAC,CAC9B,CAAC,CAAE,CAACT,QAAQ,CAAED,MAAM,CAAED,QAAQ,CAAC,CAAC,CAEhC,KAAM,CAAAe,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACf,QAAQ,CAAG,EAAE,CAAC,CACtC,KAAM,CAAAgB,IAAI,CAAGhB,QAAQ,CAAG,EAAE,CAC1B,KAAM,CAAAiB,GAAG,CAAIjB,QAAQ,CAAGH,OAAO,CAAI,GAAG,CACtC,KAAM,CAAAqB,OAAO,CAAGlB,QAAQ,EAAI,CAAC,CAAG,QAAQ,CAAGA,QAAQ,EAAI,GAAG,CAAG,SAAS,CAAG,QAAQ,CAEjF,mBACER,KAAA,QAAK2B,SAAS,iBAAAC,MAAA,CAAkBF,OAAO,CAAG,CAAAG,QAAA,eACxC7B,KAAA,QAAK2B,SAAS,CAAC,gBAAgB,CAAAE,QAAA,EAC5BC,MAAM,CAACT,IAAI,CAAC,CAACU,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,CAAC,GAAC,CAACD,MAAM,CAACN,IAAI,CAAC,CAACO,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,EAC3D,CAAC,cACN7B,IAAA,QAAKyB,SAAS,CAAC,YAAY,CAAAE,QAAA,cACzB3B,IAAA,QAAKyB,SAAS,CAAC,aAAa,CAACK,KAAK,CAAE,CAAEC,KAAK,IAAAL,MAAA,CAAKH,GAAG,KAAI,CAAE,CAAE,CAAC,CACzD,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}