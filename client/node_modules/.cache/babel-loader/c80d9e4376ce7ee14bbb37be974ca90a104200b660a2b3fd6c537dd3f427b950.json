{"ast":null,"code":"import _objectSpread from\"C:/Users/NITRO5/OneDrive/Desktop/worduel/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useContext,useReducer}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";const GameContext=/*#__PURE__*/createContext(null);const initialState={screen:\"home\",username:\"\",roomId:null,players:[],myId:null,currentRound:1,totalRounds:6,scores:{},shuffledLetters:[],wordLength:0,timeLimit:369,guesses:[],opponentGuessCount:0,roundWord:null,sessionWinner:null,lastPointsEarned:0,invalidWord:false,hint:null,hintRevealed:false,hintPenalty:0,timeLimit:127,opponentDisconnected:false,reconnectCountdown:null,rejoinFailed:false};function reducer(state,action){switch(action.type){case\"SET_USERNAME\":return _objectSpread(_objectSpread({},state),{},{username:action.payload});case\"SET_MY_ID\":return _objectSpread(_objectSpread({},state),{},{myId:action.payload});case\"SET_SCREEN\":return _objectSpread(_objectSpread({},state),{},{screen:action.payload});case\"WAITING\":return _objectSpread(_objectSpread({},state),{},{screen:\"waiting\"});case\"MATCH_FOUND\":return _objectSpread(_objectSpread({},state),{},{screen:\"countdown\",roomId:action.payload.roomId,players:action.payload.players,totalRounds:action.payload.totalRounds,scores:action.payload.players.reduce((acc,p)=>_objectSpread(_objectSpread({},acc),{},{[p.id]:0}),{})});case\"ROUND_START\":return _objectSpread(_objectSpread({},state),{},{screen:\"game\",currentRound:action.payload.round,shuffledLetters:action.payload.shuffledLetters,wordLength:action.payload.wordLength,timeLimit:action.payload.timeLimit,hint:action.payload.hint,hintRevealed:false,hintPenalty:0,guesses:[],opponentGuessCount:0,roundWord:null,lastPointsEarned:0});case\"HINT_REVEALED\":return _objectSpread(_objectSpread({},state),{},{hintRevealed:true,hintPenalty:action.payload.penalty,scores:_objectSpread(_objectSpread({},state.scores),{},{[state.myId]:action.payload.totalScore})});case\"HINT_ALREADY_USED\":return _objectSpread({},state);case\"GUESS_RESULT\":return _objectSpread(_objectSpread({},state),{},{guesses:[...state.guesses,{guess:action.payload.guess,result:action.payload.result}],scores:_objectSpread(_objectSpread({},state.scores),{},{[state.myId]:action.payload.totalScore}),lastPointsEarned:action.payload.pointsEarned});case\"INVALID_WORD\":return _objectSpread(_objectSpread({},state),{},{invalidWord:true});case\"CLEAR_INVALID\":return _objectSpread(_objectSpread({},state),{},{invalidWord:false});case\"OPPONENT_GUESSED\":return _objectSpread(_objectSpread({},state),{},{opponentGuessCount:action.payload.guessNumber});case\"UPDATE_SCORES\":return _objectSpread(_objectSpread({},state),{},{scores:action.payload.scores});case\"ROUND_END\":return _objectSpread(_objectSpread({},state),{},{screen:\"roundEnd\",roundWord:action.payload.word,scores:action.payload.scores});case\"OPPONENT_DISCONNECTED_TEMP\":return _objectSpread(_objectSpread({},state),{},{opponentDisconnected:true,reconnectCountdown:30});case\"RECONNECT_COUNTDOWN\":return _objectSpread(_objectSpread({},state),{},{reconnectCountdown:action.payload.seconds});case\"OPPONENT_RECONNECTED\":return _objectSpread(_objectSpread({},state),{},{opponentDisconnected:false,reconnectCountdown:null});case\"OPPONENT_FORFEITED\":return _objectSpread(_objectSpread({},state),{},{screen:\"sessionEnd\",sessionWinner:action.payload.winner,opponentDisconnected:false});case\"REJOIN_SUCCESS\":return _objectSpread(_objectSpread({},state),{},{screen:\"game\",roomId:action.payload.roomId,currentRound:action.payload.round,totalRounds:action.payload.totalRounds,players:action.payload.players,scores:action.payload.scores,shuffledLetters:action.payload.shuffledLetters,wordLength:action.payload.wordLength,timeLimit:action.payload.timeLimit,hint:action.payload.hint,guesses:action.payload.guesses,opponentDisconnected:false,reconnectCountdown:null});case\"REJOIN_FAILED\":return _objectSpread(_objectSpread({},state),{},{screen:\"home\",opponentDisconnected:false});case\"SESSION_END\":return _objectSpread(_objectSpread({},state),{},{screen:\"sessionEnd\",scores:action.payload.scores,sessionWinner:action.payload.winner});case\"RESET\":return _objectSpread({},initialState);default:return state;}}export const GameProvider=_ref=>{let{children}=_ref;const[state,dispatch]=useReducer(reducer,initialState);return/*#__PURE__*/_jsx(GameContext.Provider,{value:{state,dispatch},children:children});};export const useGame=()=>useContext(GameContext);","map":{"version":3,"names":["React","createContext","useContext","useReducer","jsx","_jsx","GameContext","initialState","screen","username","roomId","players","myId","currentRound","totalRounds","scores","shuffledLetters","wordLength","timeLimit","guesses","opponentGuessCount","roundWord","sessionWinner","lastPointsEarned","invalidWord","hint","hintRevealed","hintPenalty","opponentDisconnected","reconnectCountdown","rejoinFailed","reducer","state","action","type","_objectSpread","payload","reduce","acc","p","id","round","penalty","totalScore","guess","result","pointsEarned","guessNumber","word","seconds","winner","GameProvider","_ref","children","dispatch","Provider","value","useGame"],"sources":["C:/Users/NITRO5/OneDrive/Desktop/worduel/client/src/context/GameContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\r\n\r\nconst GameContext = createContext(null);\r\n\r\nconst initialState = {\r\n  screen: \"home\",\r\n  username: \"\",\r\n  roomId: null,\r\n  players: [],\r\n  myId: null,\r\n  currentRound: 1,\r\n  totalRounds: 6,\r\n  scores: {},\r\n  shuffledLetters: [],\r\n  wordLength: 0,\r\n  timeLimit: 369,\r\n  guesses: [],\r\n  opponentGuessCount: 0,\r\n  roundWord: null,\r\n  sessionWinner: null,\r\n  lastPointsEarned: 0,\r\n  invalidWord: false,\r\n  hint: null,\r\n  hintRevealed: false,\r\n  hintPenalty: 0,\r\n  timeLimit: 127,\r\n  opponentDisconnected: false,\r\n  reconnectCountdown: null,\r\n  rejoinFailed: false,\r\n};\r\n\r\nfunction reducer(state, action) {\r\n  switch (action.type) {\r\n    case \"SET_USERNAME\":\r\n      return { ...state, username: action.payload };\r\n    case \"SET_MY_ID\":\r\n      return { ...state, myId: action.payload };\r\n    case \"SET_SCREEN\":\r\n      return { ...state, screen: action.payload };\r\n    case \"WAITING\":\r\n      return { ...state, screen: \"waiting\" };\r\n    case \"MATCH_FOUND\":\r\n      return {\r\n        ...state,\r\n        screen: \"countdown\",\r\n        roomId: action.payload.roomId,\r\n        players: action.payload.players,\r\n        totalRounds: action.payload.totalRounds,\r\n        scores: action.payload.players.reduce(\r\n          (acc, p) => ({ ...acc, [p.id]: 0 }),\r\n          {},\r\n        ),\r\n      };\r\n    case \"ROUND_START\":\r\n      return {\r\n        ...state,\r\n        screen: \"game\",\r\n        currentRound: action.payload.round,\r\n        shuffledLetters: action.payload.shuffledLetters,\r\n        wordLength: action.payload.wordLength,\r\n        timeLimit: action.payload.timeLimit,\r\n        hint: action.payload.hint,\r\n        hintRevealed: false,\r\n        hintPenalty: 0,\r\n        guesses: [],\r\n        opponentGuessCount: 0,\r\n        roundWord: null,\r\n        lastPointsEarned: 0,\r\n      };\r\n\r\n    case \"HINT_REVEALED\":\r\n      return {\r\n        ...state,\r\n        hintRevealed: true,\r\n        hintPenalty: action.payload.penalty,\r\n        scores: { ...state.scores, [state.myId]: action.payload.totalScore },\r\n      };\r\n    case \"HINT_ALREADY_USED\":\r\n      return { ...state };\r\n\r\n    case \"GUESS_RESULT\":\r\n      return {\r\n        ...state,\r\n        guesses: [\r\n          ...state.guesses,\r\n          { guess: action.payload.guess, result: action.payload.result },\r\n        ],\r\n        scores: { ...state.scores, [state.myId]: action.payload.totalScore },\r\n        lastPointsEarned: action.payload.pointsEarned,\r\n      };\r\n    case \"INVALID_WORD\":\r\n      return { ...state, invalidWord: true };\r\n    case \"CLEAR_INVALID\":\r\n      return { ...state, invalidWord: false };\r\n    case \"OPPONENT_GUESSED\":\r\n      return { ...state, opponentGuessCount: action.payload.guessNumber };\r\n\r\n    case \"UPDATE_SCORES\":\r\n      return {\r\n        ...state,\r\n        scores: action.payload.scores,\r\n      };\r\n    case \"ROUND_END\":\r\n      return {\r\n        ...state,\r\n        screen: \"roundEnd\",\r\n        roundWord: action.payload.word,\r\n        scores: action.payload.scores,\r\n      };\r\n\r\n    case \"OPPONENT_DISCONNECTED_TEMP\":\r\n      return {\r\n        ...state,\r\n        opponentDisconnected: true,\r\n        reconnectCountdown: 30,\r\n      };\r\n\r\n    case \"RECONNECT_COUNTDOWN\":\r\n      return {\r\n        ...state,\r\n        reconnectCountdown: action.payload.seconds,\r\n      };\r\n\r\n    case \"OPPONENT_RECONNECTED\":\r\n      return {\r\n        ...state,\r\n        opponentDisconnected: false,\r\n        reconnectCountdown: null,\r\n      };\r\n\r\n    case \"OPPONENT_FORFEITED\":\r\n      return {\r\n        ...state,\r\n        screen: \"sessionEnd\",\r\n        sessionWinner: action.payload.winner,\r\n        opponentDisconnected: false,\r\n      };\r\n\r\n    case \"REJOIN_SUCCESS\":\r\n      return {\r\n        ...state,\r\n        screen: \"game\",\r\n        roomId: action.payload.roomId,\r\n        currentRound: action.payload.round,\r\n        totalRounds: action.payload.totalRounds,\r\n        players: action.payload.players,\r\n        scores: action.payload.scores,\r\n        shuffledLetters: action.payload.shuffledLetters,\r\n        wordLength: action.payload.wordLength,\r\n        timeLimit: action.payload.timeLimit,\r\n        hint: action.payload.hint,\r\n        guesses: action.payload.guesses,\r\n        opponentDisconnected: false,\r\n        reconnectCountdown: null,\r\n      };\r\n\r\n    case \"REJOIN_FAILED\":\r\n      return {\r\n        ...state,\r\n        screen: \"home\",\r\n        opponentDisconnected: false,\r\n      };\r\n    case \"SESSION_END\":\r\n      return {\r\n        ...state,\r\n        screen: \"sessionEnd\",\r\n        scores: action.payload.scores,\r\n        sessionWinner: action.payload.winner,\r\n      };\r\n    case \"RESET\":\r\n      return { ...initialState };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const GameProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n  return (\r\n    <GameContext.Provider value={{ state, dispatch }}>\r\n      {children}\r\n    </GameContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useGame = () => useContext(GameContext);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}