{"ast":null,"code":"import _objectSpread from\"C:/Users/NITRO5/OneDrive/Desktop/worduel/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useContext,useReducer}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";const GameContext=/*#__PURE__*/createContext(null);const initialState={screen:\"home\",username:\"\",roomId:null,players:[],myId:null,currentRound:1,totalRounds:6,scores:{},shuffledLetters:[],wordLength:0,timeLimit:369,guesses:[],opponentGuessCount:0,roundWord:null,sessionWinner:null,lastPointsEarned:0,invalidWord:false};function reducer(state,action){switch(action.type){case\"SET_USERNAME\":return _objectSpread(_objectSpread({},state),{},{username:action.payload});case\"SET_MY_ID\":return _objectSpread(_objectSpread({},state),{},{myId:action.payload});case\"SET_SCREEN\":return _objectSpread(_objectSpread({},state),{},{screen:action.payload});case\"WAITING\":return _objectSpread(_objectSpread({},state),{},{screen:\"waiting\"});case\"MATCH_FOUND\":return _objectSpread(_objectSpread({},state),{},{screen:\"countdown\",roomId:action.payload.roomId,players:action.payload.players,totalRounds:action.payload.totalRounds,scores:action.payload.players.reduce((acc,p)=>_objectSpread(_objectSpread({},acc),{},{[p.id]:0}),{})});case\"ROUND_START\":return _objectSpread(_objectSpread({},state),{},{screen:\"game\",currentRound:action.payload.round,shuffledLetters:action.payload.shuffledLetters,wordLength:action.payload.wordLength,timeLimit:action.payload.timeLimit,guesses:[],opponentGuessCount:0,roundWord:null,lastPointsEarned:0});case\"GUESS_RESULT\":return _objectSpread(_objectSpread({},state),{},{guesses:[...state.guesses,{guess:action.payload.guess,result:action.payload.result}],scores:_objectSpread(_objectSpread({},state.scores),{},{[state.myId]:action.payload.totalScore}),lastPointsEarned:action.payload.pointsEarned});case\"INVALID_WORD\":return _objectSpread(_objectSpread({},state),{},{invalidWord:true});case\"CLEAR_INVALID\":return _objectSpread(_objectSpread({},state),{},{invalidWord:false});case\"OPPONENT_GUESSED\":return _objectSpread(_objectSpread({},state),{},{opponentGuessCount:action.payload.guessNumber});case\"ROUND_END\":return _objectSpread(_objectSpread({},state),{},{screen:\"roundEnd\",roundWord:action.payload.word,scores:action.payload.scores});case\"SESSION_END\":return _objectSpread(_objectSpread({},state),{},{screen:\"sessionEnd\",scores:action.payload.scores,sessionWinner:action.payload.winner});case\"RESET\":return _objectSpread({},initialState);default:return state;}}export const GameProvider=_ref=>{let{children}=_ref;const[state,dispatch]=useReducer(reducer,initialState);return/*#__PURE__*/_jsx(GameContext.Provider,{value:{state,dispatch},children:children});};export const useGame=()=>useContext(GameContext);","map":{"version":3,"names":["React","createContext","useContext","useReducer","jsx","_jsx","GameContext","initialState","screen","username","roomId","players","myId","currentRound","totalRounds","scores","shuffledLetters","wordLength","timeLimit","guesses","opponentGuessCount","roundWord","sessionWinner","lastPointsEarned","invalidWord","reducer","state","action","type","_objectSpread","payload","reduce","acc","p","id","round","guess","result","totalScore","pointsEarned","guessNumber","word","winner","GameProvider","_ref","children","dispatch","Provider","value","useGame"],"sources":["C:/Users/NITRO5/OneDrive/Desktop/worduel/client/src/context/GameContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\r\n\r\nconst GameContext = createContext(null);\r\n\r\nconst initialState = {\r\n  screen: \"home\",\r\n  username: \"\",\r\n  roomId: null,\r\n  players: [],\r\n  myId: null,\r\n  currentRound: 1,\r\n  totalRounds: 6,\r\n  scores: {},\r\n  shuffledLetters: [],\r\n  wordLength: 0,\r\n  timeLimit: 369,\r\n  guesses: [],\r\n  opponentGuessCount: 0,\r\n  roundWord: null,\r\n  sessionWinner: null,\r\n  lastPointsEarned: 0,\r\n  invalidWord: false,\r\n};\r\n\r\nfunction reducer(state, action) {\r\n  switch (action.type) {\r\n    case \"SET_USERNAME\":   return { ...state, username: action.payload };\r\n    case \"SET_MY_ID\":      return { ...state, myId: action.payload };\r\n    case \"SET_SCREEN\":     return { ...state, screen: action.payload };\r\n    case \"WAITING\":        return { ...state, screen: \"waiting\" };\r\n    case \"MATCH_FOUND\":\r\n      return {\r\n        ...state,\r\n        screen: \"countdown\",\r\n        roomId: action.payload.roomId,\r\n        players: action.payload.players,\r\n        totalRounds: action.payload.totalRounds,\r\n        scores: action.payload.players.reduce((acc, p) => ({ ...acc, [p.id]: 0 }), {}),\r\n      };\r\n    case \"ROUND_START\":\r\n      return {\r\n        ...state,\r\n        screen: \"game\",\r\n        currentRound: action.payload.round,\r\n        shuffledLetters: action.payload.shuffledLetters,\r\n        wordLength: action.payload.wordLength,\r\n        timeLimit: action.payload.timeLimit,\r\n        guesses: [],\r\n        opponentGuessCount: 0,\r\n        roundWord: null,\r\n        lastPointsEarned: 0,\r\n      };\r\n    case \"GUESS_RESULT\":\r\n      return {\r\n        ...state,\r\n        guesses: [...state.guesses, { guess: action.payload.guess, result: action.payload.result }],\r\n        scores: { ...state.scores, [state.myId]: action.payload.totalScore },\r\n        lastPointsEarned: action.payload.pointsEarned,\r\n      };\r\n      case \"INVALID_WORD\":\r\n  return { ...state, invalidWord: true };\r\ncase \"CLEAR_INVALID\":\r\n  return { ...state, invalidWord: false };\r\n    case \"OPPONENT_GUESSED\":\r\n      return { ...state, opponentGuessCount: action.payload.guessNumber };\r\n    case \"ROUND_END\":\r\n      return {\r\n        ...state,\r\n        screen: \"roundEnd\",\r\n        roundWord: action.payload.word,\r\n        scores: action.payload.scores,\r\n      };\r\n    case \"SESSION_END\":\r\n      return {\r\n        ...state,\r\n        screen: \"sessionEnd\",\r\n        scores: action.payload.scores,\r\n        sessionWinner: action.payload.winner,\r\n      };\r\n    case \"RESET\":\r\n      return { ...initialState };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const GameProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n  return (\r\n    <GameContext.Provider value={{ state, dispatch }}>\r\n      {children}\r\n    </GameContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useGame = () => useContext(GameContext);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}