{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport { useSocket } from \"../context/SocketContext\";\nimport { useGame } from \"../context/GameContext\";\nexport function useGameSocket() {\n  _s();\n  const socket = useSocket();\n  const {\n    dispatch\n  } = useGame();\n  useEffect(() => {\n    if (!socket) return;\n    socket.on(\"connect\", () => {\n      dispatch({\n        type: \"SET_MY_ID\",\n        payload: socket.id\n      });\n    });\n    socket.on(\"waiting_for_opponent\", () => {\n      dispatch({\n        type: \"WAITING\"\n      });\n    });\n    socket.on(\"match_found\", data => {\n      dispatch({\n        type: \"MATCH_FOUND\",\n        payload: data\n      });\n    });\n    socket.on(\"round_start\", data => {\n      dispatch({\n        type: \"ROUND_START\",\n        payload: data\n      });\n    });\n    socket.on(\"hint_revealed\", data => {\n      dispatch({\n        type: \"HINT_REVEALED\",\n        payload: data\n      });\n    });\n    socket.on(\"hint_already_used\", () => {\n      dispatch({\n        type: \"HINT_ALREADY_USED\"\n      });\n    });\n    socket.on(\"guess_result\", data => {\n      dispatch({\n        type: \"GUESS_RESULT\",\n        payload: data\n      });\n      if (data.isCorrect) {\n        // Fire custom event so Game.jsx can trigger animations\n        window.dispatchEvent(new CustomEvent(\"round_correct\", {\n          detail: {\n            guessNumber: data.guessNumber,\n            bonuses: data.bonuses || [],\n            pointsEarned: data.pointsEarned\n          }\n        }));\n      }\n    });\n    socket.on(\"opponent_guessed\", data => {\n      dispatch({\n        type: \"OPPONENT_GUESSED\",\n        payload: data\n      });\n    });\n    socket.on(\"round_end\", data => {\n      dispatch({\n        type: \"ROUND_END\",\n        payload: data\n      });\n    });\n    socket.on(\"session_end\", data => {\n      dispatch({\n        type: \"SESSION_END\",\n        payload: data\n      });\n    });\n    socket.on(\"opponent_disconnected\", () => {\n      alert(\"Your opponent disconnected.\");\n      dispatch({\n        type: \"RESET\"\n      });\n    });\n    socket.on(\"invalid_word\", data => {\n      dispatch({\n        type: \"INVALID_WORD\"\n      });\n    });\n    return () => {\n      socket.off(\"connect\");\n      socket.off(\"waiting_for_opponent\");\n      socket.off(\"match_found\");\n      socket.off(\"round_start\");\n      socket.off(\"guess_result\");\n      socket.off(\"opponent_guessed\");\n      socket.off(\"round_end\");\n      socket.off(\"session_end\");\n      socket.off(\"opponent_disconnected\");\n      socket.off(\"invalid_word\");\n      socket.off(\"hint_revealed\");\n      socket.off(\"hint_already_used\");\n    };\n  }, [socket, dispatch]);\n}\n_s(useGameSocket, \"bn/UA7uacaY9Ez3TrDWE/hQtMtI=\", false, function () {\n  return [useSocket, useGame];\n});","map":{"version":3,"names":["useEffect","useSocket","useGame","useGameSocket","_s","socket","dispatch","on","type","payload","id","data","isCorrect","window","dispatchEvent","CustomEvent","detail","guessNumber","bonuses","pointsEarned","alert","off"],"sources":["C:/Users/NITRO5/OneDrive/Desktop/worduel/client/src/hooks/useGameSocket.js"],"sourcesContent":["import { useEffect } from \"react\";\r\nimport { useSocket } from \"../context/SocketContext\";\r\nimport { useGame } from \"../context/GameContext\";\r\n\r\nexport function useGameSocket() {\r\n  const socket = useSocket();\r\n  const { dispatch } = useGame();\r\n\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n\r\n    socket.on(\"connect\", () => {\r\n      dispatch({ type: \"SET_MY_ID\", payload: socket.id });\r\n    });\r\n\r\n    socket.on(\"waiting_for_opponent\", () => {\r\n      dispatch({ type: \"WAITING\" });\r\n    });\r\n\r\n    socket.on(\"match_found\", (data) => {\r\n      dispatch({ type: \"MATCH_FOUND\", payload: data });\r\n    });\r\n\r\n    socket.on(\"round_start\", (data) => {\r\n      dispatch({ type: \"ROUND_START\", payload: data });\r\n    });\r\n\r\n    socket.on(\"hint_revealed\", (data) => {\r\n      dispatch({ type: \"HINT_REVEALED\", payload: data });\r\n    });\r\n\r\n    socket.on(\"hint_already_used\", () => {\r\n      dispatch({ type: \"HINT_ALREADY_USED\" });\r\n    });\r\n\r\n    socket.on(\"guess_result\", (data) => {\r\n  dispatch({ type: \"GUESS_RESULT\", payload: data });\r\n\r\n  if (data.isCorrect) {\r\n    // Fire custom event so Game.jsx can trigger animations\r\n    window.dispatchEvent(new CustomEvent(\"round_correct\", {\r\n      detail: {\r\n        guessNumber: data.guessNumber,\r\n        bonuses: data.bonuses || [],\r\n        pointsEarned: data.pointsEarned,\r\n      }\r\n    }));\r\n  }\r\n});\r\n\r\n    socket.on(\"opponent_guessed\", (data) => {\r\n      dispatch({ type: \"OPPONENT_GUESSED\", payload: data });\r\n    });\r\n\r\n    socket.on(\"round_end\", (data) => {\r\n      dispatch({ type: \"ROUND_END\", payload: data });\r\n    });\r\n\r\n    socket.on(\"session_end\", (data) => {\r\n      dispatch({ type: \"SESSION_END\", payload: data });\r\n    });\r\n\r\n    socket.on(\"opponent_disconnected\", () => {\r\n      alert(\"Your opponent disconnected.\");\r\n      dispatch({ type: \"RESET\" });\r\n    });\r\n\r\n    socket.on(\"invalid_word\", (data) => {\r\n      dispatch({ type: \"INVALID_WORD\" });\r\n    });\r\n\r\n    return () => {\r\n      socket.off(\"connect\");\r\n      socket.off(\"waiting_for_opponent\");\r\n      socket.off(\"match_found\");\r\n      socket.off(\"round_start\");\r\n      socket.off(\"guess_result\");\r\n      socket.off(\"opponent_guessed\");\r\n      socket.off(\"round_end\");\r\n      socket.off(\"session_end\");\r\n      socket.off(\"opponent_disconnected\");\r\n      socket.off(\"invalid_word\");\r\n      socket.off(\"hint_revealed\");\r\n      socket.off(\"hint_already_used\");\r\n    };\r\n  }, [socket, dispatch]);\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}