{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport { useSocket } from \"../context/SocketContext\";\nimport { useGame } from \"../context/GameContext\";\nexport function useGameSocket() {\n  _s();\n  const socket = useSocket();\n  const {\n    dispatch\n  } = useGame();\n  useEffect(() => {\n    if (!socket) return;\n    socket.on(\"connect\", () => {\n      dispatch({\n        type: \"SET_MY_ID\",\n        payload: socket.id\n      });\n    });\n    socket.on(\"waiting_for_opponent\", () => {\n      dispatch({\n        type: \"WAITING\"\n      });\n    });\n    socket.on(\"match_found\", data => {\n      dispatch({\n        type: \"MATCH_FOUND\",\n        payload: data\n      });\n    });\n    socket.on(\"round_start\", data => {\n      dispatch({\n        type: \"ROUND_START\",\n        payload: data\n      });\n    });\n    socket.on(\"hint_revealed\", data => {\n      dispatch({\n        type: \"HINT_REVEALED\",\n        payload: data\n      });\n    });\n    socket.on(\"hint_already_used\", () => {\n      dispatch({\n        type: \"HINT_ALREADY_USED\"\n      });\n    });\n    socket.on(\"guess_result\", data => {\n      dispatch({\n        type: \"GUESS_RESULT\",\n        payload: data\n      });\n      if (data.isCorrect) {\n        // Fire custom event so Game.jsx can trigger animations\n        window.dispatchEvent(new CustomEvent(\"round_correct\", {\n          detail: {\n            guessNumber: data.guessNumber,\n            bonuses: data.bonuses || [],\n            pointsEarned: data.pointsEarned\n          }\n        }));\n      }\n    });\n    socket.on(\"opponent_guessed\", data => {\n      dispatch({\n        type: \"OPPONENT_GUESSED\",\n        payload: data\n      });\n      if (data.isCorrect && data.scores) {\n        dispatch({\n          type: \"UPDATE_SCORES\",\n          payload: {\n            scores: data.scores\n          }\n        });\n      }\n    });\n    socket.on(\"round_end\", data => {\n      dispatch({\n        type: \"ROUND_END\",\n        payload: data\n      });\n    });\n    socket.on(\"session_end\", data => {\n      dispatch({\n        type: \"SESSION_END\",\n        payload: data\n      });\n    });\n    socket.on(\"opponent_disconnected\", () => {\n      alert(\"Your opponent disconnected.\");\n      dispatch({\n        type: \"RESET\"\n      });\n    });\n\n    // Opponent temporarily disconnected\n    socket.on(\"opponent_disconnected_temp\", data => {\n      dispatch({\n        type: \"OPPONENT_DISCONNECTED_TEMP\",\n        payload: data\n      });\n    });\n\n    // Reconnect countdown\n    socket.on(\"reconnect_countdown\", data => {\n      dispatch({\n        type: \"RECONNECT_COUNTDOWN\",\n        payload: data\n      });\n    });\n\n    // Opponent reconnected\n    socket.on(\"opponent_reconnected\", data => {\n      dispatch({\n        type: \"OPPONENT_RECONNECTED\",\n        payload: data\n      });\n    });\n\n    // Opponent forfeited\n    socket.on(\"opponent_forfeited\", data => {\n      dispatch({\n        type: \"OPPONENT_FORFEITED\",\n        payload: data\n      });\n    });\n\n    // Rejoin success\n    socket.on(\"rejoin_success\", data => {\n      dispatch({\n        type: \"REJOIN_SUCCESS\",\n        payload: data\n      });\n    });\n\n    // Rejoin failed\n    socket.on(\"rejoin_failed\", data => {\n      dispatch({\n        type: \"REJOIN_FAILED\",\n        payload: data\n      });\n    });\n    socket.on(\"invalid_word\", data => {\n      dispatch({\n        type: \"INVALID_WORD\"\n      });\n    });\n    return () => {\n      socket.off(\"connect\");\n      socket.off(\"waiting_for_opponent\");\n      socket.off(\"match_found\");\n      socket.off(\"round_start\");\n      socket.off(\"guess_result\");\n      socket.off(\"opponent_guessed\");\n      socket.off(\"round_end\");\n      socket.off(\"session_end\");\n      socket.off(\"opponent_disconnected\");\n      socket.off(\"invalid_word\");\n      socket.off(\"hint_revealed\");\n      socket.off(\"hint_already_used\");\n      socket.off(\"opponent_disconnected_temp\");\n      socket.off(\"reconnect_countdown\");\n      socket.off(\"opponent_reconnected\");\n      socket.off(\"opponent_forfeited\");\n      socket.off(\"rejoin_success\");\n      socket.off(\"rejoin_failed\");\n    };\n  }, [socket, dispatch]);\n}\n_s(useGameSocket, \"bn/UA7uacaY9Ez3TrDWE/hQtMtI=\", false, function () {\n  return [useSocket, useGame];\n});","map":{"version":3,"names":["useEffect","useSocket","useGame","useGameSocket","_s","socket","dispatch","on","type","payload","id","data","isCorrect","window","dispatchEvent","CustomEvent","detail","guessNumber","bonuses","pointsEarned","scores","alert","off"],"sources":["C:/Users/NITRO5/OneDrive/Desktop/worduel/client/src/hooks/useGameSocket.js"],"sourcesContent":["import { useEffect } from \"react\";\r\nimport { useSocket } from \"../context/SocketContext\";\r\nimport { useGame } from \"../context/GameContext\";\r\n\r\nexport function useGameSocket() {\r\n  const socket = useSocket();\r\n  const { dispatch } = useGame();\r\n\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n\r\n    socket.on(\"connect\", () => {\r\n      dispatch({ type: \"SET_MY_ID\", payload: socket.id });\r\n    });\r\n\r\n    socket.on(\"waiting_for_opponent\", () => {\r\n      dispatch({ type: \"WAITING\" });\r\n    });\r\n\r\n    socket.on(\"match_found\", (data) => {\r\n      dispatch({ type: \"MATCH_FOUND\", payload: data });\r\n    });\r\n\r\n    socket.on(\"round_start\", (data) => {\r\n      dispatch({ type: \"ROUND_START\", payload: data });\r\n    });\r\n\r\n    socket.on(\"hint_revealed\", (data) => {\r\n      dispatch({ type: \"HINT_REVEALED\", payload: data });\r\n    });\r\n\r\n    socket.on(\"hint_already_used\", () => {\r\n      dispatch({ type: \"HINT_ALREADY_USED\" });\r\n    });\r\n\r\n    socket.on(\"guess_result\", (data) => {\r\n      dispatch({ type: \"GUESS_RESULT\", payload: data });\r\n\r\n      if (data.isCorrect) {\r\n        // Fire custom event so Game.jsx can trigger animations\r\n        window.dispatchEvent(\r\n          new CustomEvent(\"round_correct\", {\r\n            detail: {\r\n              guessNumber: data.guessNumber,\r\n              bonuses: data.bonuses || [],\r\n              pointsEarned: data.pointsEarned,\r\n            },\r\n          }),\r\n        );\r\n      }\r\n    });\r\n\r\n    socket.on(\"opponent_guessed\", (data) => {\r\n      dispatch({ type: \"OPPONENT_GUESSED\", payload: data });\r\n      if (data.isCorrect && data.scores) {\r\n        dispatch({ type: \"UPDATE_SCORES\", payload: { scores: data.scores } });\r\n      }\r\n    });\r\n\r\n    socket.on(\"round_end\", (data) => {\r\n      dispatch({ type: \"ROUND_END\", payload: data });\r\n    });\r\n\r\n    socket.on(\"session_end\", (data) => {\r\n      dispatch({ type: \"SESSION_END\", payload: data });\r\n    });\r\n\r\n    socket.on(\"opponent_disconnected\", () => {\r\n      alert(\"Your opponent disconnected.\");\r\n      dispatch({ type: \"RESET\" });\r\n    });\r\n\r\n    // Opponent temporarily disconnected\r\n    socket.on(\"opponent_disconnected_temp\", (data) => {\r\n      dispatch({ type: \"OPPONENT_DISCONNECTED_TEMP\", payload: data });\r\n    });\r\n\r\n    // Reconnect countdown\r\n    socket.on(\"reconnect_countdown\", (data) => {\r\n      dispatch({ type: \"RECONNECT_COUNTDOWN\", payload: data });\r\n    });\r\n\r\n    // Opponent reconnected\r\n    socket.on(\"opponent_reconnected\", (data) => {\r\n      dispatch({ type: \"OPPONENT_RECONNECTED\", payload: data });\r\n    });\r\n\r\n    // Opponent forfeited\r\n    socket.on(\"opponent_forfeited\", (data) => {\r\n      dispatch({ type: \"OPPONENT_FORFEITED\", payload: data });\r\n    });\r\n\r\n    // Rejoin success\r\n    socket.on(\"rejoin_success\", (data) => {\r\n      dispatch({ type: \"REJOIN_SUCCESS\", payload: data });\r\n    });\r\n\r\n    // Rejoin failed\r\n    socket.on(\"rejoin_failed\", (data) => {\r\n      dispatch({ type: \"REJOIN_FAILED\", payload: data });\r\n    });\r\n\r\n    socket.on(\"invalid_word\", (data) => {\r\n      dispatch({ type: \"INVALID_WORD\" });\r\n    });\r\n\r\n    return () => {\r\n      socket.off(\"connect\");\r\n      socket.off(\"waiting_for_opponent\");\r\n      socket.off(\"match_found\");\r\n      socket.off(\"round_start\");\r\n      socket.off(\"guess_result\");\r\n      socket.off(\"opponent_guessed\");\r\n      socket.off(\"round_end\");\r\n      socket.off(\"session_end\");\r\n      socket.off(\"opponent_disconnected\");\r\n      socket.off(\"invalid_word\");\r\n      socket.off(\"hint_revealed\");\r\n      socket.off(\"hint_already_used\");\r\n      socket.off(\"opponent_disconnected_temp\");\r\n      socket.off(\"reconnect_countdown\");\r\n      socket.off(\"opponent_reconnected\");\r\n      socket.off(\"opponent_forfeited\");\r\n      socket.off(\"rejoin_success\");\r\n      socket.off(\"rejoin_failed\");\r\n    };\r\n  }, [socket, dispatch]);\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}